# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание проекта 

Проект Web-ларек реализует пример типового интернет-магазина. Пользователь может просматривать список товаров, 
добавлять/убирать товары из корзины, а также заказывать. Проект реализован на TypeScript и представляет собой SPA(Single Page Application)
c использованием API для получения данных о товарах.

Особенности реализации: — пользователь имеет возможность добавить в корзину и купить не более 1 единицы товара за 1 раз;
В каталоге есть товары, которые являются бесценными и их невохможно добавить в корзину/купить.

 ## Описание интерфейса 

 Интерфейс можно условно разделить на 3 процесса:
 1. Просмотр каталога товаров
 2. Добавление(удаление) товара в корзину
 3. Оформление заказа

## Структура проекта 

.
├── src/
│   ├── common.blocks/ [Стили компонент верстки]
│   ├── components/ [Реализация]
│   │   ├── base/ [Базовый код]
│   │   ├── [Модели данных и АПИ, Модель представления]
│   ├── images/
│   ├── pages/
│   │   ├── index.html [Основная страница и шаблоны компонент]
│   ├── types/ [Типизация]
│   │   ├── index.ts/ [Интерфейсы]
│   ├── utils/
│   │   ├── constants.ts [Настройки проекта]
│   │   ├── utils.ts [Утилиты]


## Интерфейсы данных

### Интерфейс описывающий товар `IProduct`

```typescript
interface IProduct {
  id: string;
  description: string;
  image: string;
  title: string;
  categoty: string;
  price: number | null;
}
```
Данный интерфейс содержит в себе такие свойства, как:
1.  `category` - категория товара
2.  `title` - название товара
3.  `image` - картинка
4.  `price` - цена товара 
5.  `id` - идентификатор товара
6.  `description` - описание товара

### Интерфейс описывающий товар, лежащий в корзине

```typescript
interface IBasketIndex {
  index: number
}
```
Создан для того чтобы описать товар, лежащий в корзине(у него, в отличие от товаров на страничке и в модалке, нужна нумерация)
Данный интерфейс содержит в себе такие свойства, как:
1.  `index` - индекс товара

### Интерфейс описывающий корзину `IBasket`

```typescript
interface IBasket {
  products: string[];
  total: number;
}
```

Данный интерфейс описывает такие свойства, как:
1. `products` - массив идентефикаторов продуктов в корзине
2.  `total` - сумма товаров в корзине

### Интерфейс описывающий заказ, отправляемый на сервер

```typescript
interface IOrder {
  payment: TPaymentMethod;
  email: string;
  phone: string;
  address: string;
  total: number;
  items: string[];
}
```
Данный интерфейс содержит в себе такие свойства, как:
1.  `items` - массив идентефикаторов товаров, которые пользователь заказал
2.  `payments` - способ оплаты: онлайн/при получении
3.  `address` - адрес доставки
4.  `email` - почта покупателя 
5.  `phone` - телефон покупателя 
6.  `total` - итоговая сумма в заказе

### Интерфейс описывающий промис, который отдается при отправке товара на сервер

```typescript
interface IOrderResult {
  id: string,
  total: number
}
```
Данный интерфейс содержит в себе такие свойства, как:
1.  `id` -  идентефикатор товаров, которые пользователь заказал
2.  `total` - итоговая сумма в заказе


### Тип данных `TOrderForm`

`type TOrderForm = Omit<IOrder, 'total' | 'items'>`

Создается на основе интерфейса `IOrder`, но исключает свойства total и items.
Нужен для создания класса `OrderForm`(в нем нам не нужны items и total)

### Тип данных `TPaymentMethod`

`type TPaymentMethod = 'card' | 'cash' | ''`

Создан для использования в методах модели данных


## Применяемый паттерн: MVP

### Model (Модель данных) 
часть приложения, которая работает с данными, проводит вычисления и руководит всеми бизнес-процессами.
 
### View (представление) 
часть приложения, показывающая пользователю интерфейс и данные из модели на экране.
 
### Presenter (Представитель)
часть приложения, которая обеспечивает связь, является посредником между моделью и видом.

## Модели данных

### Класс `ProductModel`

Данный класс предназначен для работы с массивом товаров, содержит в себе:
1.  защиенное поле `products`, в котором хранится массив всех товаров
2.  конструктор, который ничего не принимает
3.  метод `getProducts` - возвращает весь массив товаров
4.  метод `getProducts` - возвращает один товар по идентификатору(для того чтобы добавить нужный товар в корзину)
5.  метод `setProducts` - получает с сервера и сохраняет массив всех товаров

### Класс `ProductModel`



## Компоненты представления 
<!--  -->

## Презентер

Так как в приложении всего одна страница, достаточно одного презентера. Код презентера не будет вынесен 
в отдельный класс, а будет размещен в основном скрипте приложения index.ts


## События 

Для осуществления связи между компонентами разных слоев будет использован событийно-ориентированный подход. 
Для его реализации будет использоваться базовый класс EventEmitter












Модель данных содердит в себе класс productModel
Данный класс отвечает за хранение массива товаров
у него есть конструктов, который не принимает ниаких параметров
Также в классе есть два метода
getProducts - метод, который позволяет взять массив всех товаров
getProduct - метод, который возвращает метод с нужным id для того чтобы в последущем добавить его в корзину
setProducts - метод, который позволяет получить массив всех  товаров